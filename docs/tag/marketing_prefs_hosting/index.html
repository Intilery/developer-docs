<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.75">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Intilery Documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Intilery Documentation Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-9T47KP3LPV","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Intilery Documentation" href="/opensearch.xml"><title data-react-helmet="true">Hosting your own Marketing Preferences page | Intilery Documentation</title><meta data-react-helmet="true" property="og:url" content="https://intilery.com/docs/tag/marketing_prefs_hosting"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Hosting your own Marketing Preferences page | Intilery Documentation"><meta data-react-helmet="true" name="description" content="Intilery host a basic marketing preferences page which is linked to in all of our email communications.  This can be used by the customer to subscribe or opt out of communications based on communication medium (channel) or subscription category (interests)."><meta data-react-helmet="true" property="og:description" content="Intilery host a basic marketing preferences page which is linked to in all of our email communications.  This can be used by the customer to subscribe or opt out of communications based on communication medium (channel) or subscription category (interests)."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://intilery.com/docs/tag/marketing_prefs_hosting"><link data-react-helmet="true" rel="alternate" href="https://intilery.com/docs/tag/marketing_prefs_hosting" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://intilery.com/docs/tag/marketing_prefs_hosting" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.2ae5b888.css">
<link rel="preload" href="/assets/js/runtime~main.b4328247.js" as="script">
<link rel="preload" href="/assets/js/main.26c3b544.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="intilery" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="intilery" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">intilery</strong></a><a class="navbar__item navbar__link" href="/docs/guides/contents">Guides</a><a class="navbar__item navbar__link" href="/docs/apis/api">APIs</a><a class="navbar__item navbar__link" href="/docs/tag/tag1">JavaScript Tag</a><a class="navbar__item navbar__link" href="/docs/sdk/ios">Mobile SDKs</a><a class="navbar__item navbar__link" href="/docs/schema/contents">Schema</a><a class="navbar__item navbar__link" href="/docs/customers/overview">Customers</a><a class="navbar__item navbar__link" href="/docs/roadmap/roadmap">Roadmap</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://github.com/Intilery/intilery.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="intilery" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="intilery" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">intilery</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/guides/contents">Guides</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/apis/api">APIs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tag/tag1">JavaScript Tag</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/sdk/ios">Mobile SDKs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/schema/contents">Schema</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/customers/overview">Customers</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/roadmap/roadmap">Roadmap</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/Intilery/intilery.github.io" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tag/tag1">Website Tag</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tag/reference">Tag Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tag/gtm">Google Tag Manager</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tag/gtm-datalayer">Google Tag Manager Data Layer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tag/gtm-ecommerce">GTM Advanced Ecommerce</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/tag/marketing_prefs_hosting">Hosting Marketing Preferences</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Marketing Preferences Hosting</h1></header><div class="markdown"><p>Intilery host a basic marketing preferences page which is linked to in all of our email communications.  This can be used by the customer to subscribe or opt out of communications based on communication medium (channel) or subscription category (interests).</p><p>If a custom version of this page is required, it can be self-hosted.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="what-the-page-will-need-to-do"></a>What the page will need to do<a class="hash-link" href="#what-the-page-will-need-to-do" title="Direct link to heading">#</a></h1><ul><li>Retrieve marketing preferences for the customer from the Intilery endpoint</li><li>Update the marketing preferences for the customer by building a new preferences object and POSTing to our endpoint</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="page-url"></a>Page URL<a class="hash-link" href="#page-url" title="Direct link to heading">#</a></h2><p>The default page is hosted at:
<a href="https://marketingprefs.intilery.com/content?s=aW50aWxlcnk6bWFya2V0aW5nOjg1MWZlMjM1LWY3MTEtNGVkZS05N2ZkLWFhOWUxNWIzOTg0YQ==" target="_blank" rel="noopener noreferrer">https://marketingprefs.intilery.com/content?s=aW50aWxlcnk6bWFya2V0aW5nOjg1MWZlMjM1LWY3MTEtNGVkZS05N2ZkLWFhOWUxNWIzOTg0YQ==</a></p><p>The <em>s</em> parameter is an important property applied to all customers called the <em>Subscription ID</em>.  For custom hosting, this parameter can of course be named as desired.  The merge tag for a customers subscription id is:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{(customer._subscriptionId)!&quot;&quot;}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>So the example link above might be generated in our email editor with...</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">https://marketingprefs.intilery.com/content?s={(customer._subscriptionId)!&quot;&quot;}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The above would need be replaced with the URL of your own hosted page.  The URL parameter name can of course be changed to suit but the merge tag <em>must</em> remain the same as this property of the customer cannot be renamed.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="example-page"></a>Example page<a class="hash-link" href="#example-page" title="Direct link to heading">#</a></h2><p><img alt="Marketing Preferences" src="/assets/images/marprefs_eg-3bdaf91b670d7405f86a012886e7bd28.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="retrieving-marketing-preferences-for-the-customer"></a>Retrieving marketing preferences for the customer<a class="hash-link" href="#retrieving-marketing-preferences-for-the-customer" title="Direct link to heading">#</a></h2><p>A single endpoint returns the customers marketing preferences with the list of known channels and subscription categories.
Note that channels are &quot;opt-in&quot; and categories are &quot;opt-out&quot;.  If a new subscription category is added, the default status of that category for the customer will be <em>subscribed</em>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="request-endpoint"></a>Request endpoint<a class="hash-link" href="#request-endpoint" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">GET https://events.intilery.com/cdp/marketing-preferences/&lt;subscriptionId&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>For example...</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">GET https://events.intilery.com/cdp/marketing-preferences/276db9bf-ac46-4dc3-bb7d-e94a7eb1de51</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="example-response"></a>Example response<a class="hash-link" href="#example-response" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;writeKey&quot;: &quot;ZXhhbXBsZTpleGFtcGxlOkVYQU1QTEU=&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;customerId&quot;: &quot;276db9bf-ac46-4dc3-bb7d-e94a7eb1de51&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;channels&quot;: [{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;channel&quot;: &quot;email&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;name&quot;: &quot;Email&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;subscribed&quot;: true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }, {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;channel&quot;: &quot;sms&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;name&quot;: &quot;SMS&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;subscribed&quot;: false</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;categories&quot;: [{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;category&quot;: &quot;marketing tricks&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;name&quot;: &quot;marketing_tricks&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;subscribed&quot;: true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }, {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;category&quot;: &quot;new product alerts&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;name&quot;: &quot;new_product_alerts&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;subscribed&quot;: true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;unsubscribeAll&quot;: false</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="update-the-marketing-preferences-for-the-customer"></a>Update the marketing preferences for the customer<a class="hash-link" href="#update-the-marketing-preferences-for-the-customer" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="request-endpoint-1"></a>Request endpoint<a class="hash-link" href="#request-endpoint-1" title="Direct link to heading">#</a></h3><p>The same endpoint used to retrieve the customer marketing preferences is also used to update. Only the method is different.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">POST https://events.intilery.com/cdp/marketing-preferences/&lt;subscription id&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="example-code"></a>Example code<a class="hash-link" href="#example-code" title="Direct link to heading">#</a></h3><p>The example POST below updates the example customers marketing preferences as follows:-</p><ul><li>Unsubscribe from the new_product_alerts subscription category</li><li>Subscribe to the SMS channel
Note that the category/channel fields match up to those in the retrieved preferences.
We recommend calling this endpoint from your servers to avoid any browser related CORS or blocking issues.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">const data = {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;categories&quot;: [{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;category&quot;: &quot;marketing_tricks&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;subscribed&quot;: true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }, {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;category&quot;: &quot;new_product_alerts&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;subscribed&quot;: false</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;channels&quot;: [{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;channel&quot;: &quot;email&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;subscribed&quot;: true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }, {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;channel&quot;: &quot;sms&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;subscribed&quot;: true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;unsubscribeAll&quot;: false,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;unsubscribeReason&quot;: &quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$.ajax({</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    type: &#x27;POST&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    url: `https://events.intilery.com/cdp/marketing-preferences/276db9bf-ac46-4dc3-bb7d-e94a7eb1de51`,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    crossDomain: true,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    contentType: &#x27;application/json; charset=utf-8&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    data: JSON.stringify(data),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    success: function () {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        alert(&quot;marketing preferences updated&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">});</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="campaign-reporting"></a>Campaign Reporting<a class="hash-link" href="#campaign-reporting" title="Direct link to heading">#</a></h3><p>To tie the unsubscribe/subscribe to a campaign for reporting, add the parameter ?assetId=XXX</p><p>The assetID can be found in the URL parameter utm_campaign</p><p>E.g. the for the url</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">https://yourdomain.com/prefs?s&lt;subscriptionId&gt;&amp;utm_campaign=July-1&amp;utm_medium=email&amp;utm_source=Intilery</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The assetId is July-1 you should POST to</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">POST https://events.intilery.com/cdp/marketing-preferences/&lt;subscription id&gt;?assetId=July-1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="example-response-1"></a>Example response<a class="hash-link" href="#example-response-1" title="Direct link to heading">#</a></h3><p>The endpoint will return a 200 response to indicate success.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="unsubscribing-from-all-communications"></a>Unsubscribing from all communications<a class="hash-link" href="#unsubscribing-from-all-communications" title="Direct link to heading">#</a></h2><p>Send the following data to the endpoint</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;categories&quot;: [],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;channels&quot;: [],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;unsubscribeAll&quot;: true,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;unsubscribeReason&quot;: &quot;&quot; // can be set to a string value to be recorded against the customer for your own records</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/tag/gtm-ecommerce"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« GTM Advanced Ecommerce (UA)</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#page-url" class="table-of-contents__link">Page URL</a></li><li><a href="#example-page" class="table-of-contents__link">Example page</a></li><li><a href="#retrieving-marketing-preferences-for-the-customer" class="table-of-contents__link">Retrieving marketing preferences for the customer</a><ul><li><a href="#request-endpoint" class="table-of-contents__link">Request endpoint</a></li><li><a href="#example-response" class="table-of-contents__link">Example response</a></li></ul></li><li><a href="#update-the-marketing-preferences-for-the-customer" class="table-of-contents__link">Update the marketing preferences for the customer</a><ul><li><a href="#request-endpoint-1" class="table-of-contents__link">Request endpoint</a></li><li><a href="#example-code" class="table-of-contents__link">Example code</a></li><li><a href="#campaign-reporting" class="table-of-contents__link">Campaign Reporting</a></li><li><a href="#example-response-1" class="table-of-contents__link">Example response</a></li></ul></li><li><a href="#unsubscribing-from-all-communications" class="table-of-contents__link">Unsubscribing from all communications</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a href="http://support.intilery.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">User Guides</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/apis/api">API</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tag/tag1">JavaScript Tag</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sdk/ios">Mobile SDKs</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/schema/contents">Schema</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/intilery" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.linkedin.com/company/intilery-com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn</a></li><li class="footer__item"><a href="https://www.facebook.com/intilery/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://www.instagram.com/intilery/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.intilery.com/category/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Marketing Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/Intilery/intilery.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 Intilery.com Ltd.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.b4328247.js"></script>
<script src="/assets/js/main.26c3b544.js"></script>
</body>
</html>