<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-9T47KP3LPV","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Intilery Documentation" href="/opensearch.xml"><title data-react-helmet="true">Intilery iOS Mobile SDK | Intilery Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Intilery iOS Mobile SDK | Intilery Documentation"><meta data-react-helmet="true" name="description" content="Intilery for iOS makes it simple to send your data to Intilery."><meta data-react-helmet="true" property="og:description" content="Intilery for iOS makes it simple to send your data to Intilery."><meta data-react-helmet="true" property="og:url" content="https://intilery.com/docs/sdk/ios"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://intilery.com/docs/sdk/ios"><link rel="stylesheet" href="/styles.7b434fb9.css">
<link rel="preload" href="/styles.5b3c67ed.js" as="script">
<link rel="preload" href="/runtime~main.e13e7d6c.js" as="script">
<link rel="preload" href="/main.0ff104ff.js" as="script">
<link rel="preload" href="/1.89690f33.js" as="script">
<link rel="preload" href="/2.faacdfbe.js" as="script">
<link rel="preload" href="/3.4c8f3079.js" as="script">
<link rel="preload" href="/1be78505.4851ef38.js" as="script">
<link rel="preload" href="/71.0bf440b5.js" as="script">
<link rel="preload" href="/20ac7829.86709812.js" as="script">
<link rel="preload" href="/17896441.22484c41.js" as="script">
<link rel="preload" href="/646ca884.d78074a3.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="intilery"><strong class="navbar__title">intilery</strong></a><a class="navbar__item navbar__link" href="/docs/guides/contents">Guides</a><a class="navbar__item navbar__link" href="/docs/apis/api">APIs</a><a class="navbar__item navbar__link" href="/docs/tag/tag1">JavaScript Tag</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/sdk/ios">Mobile SDKs</a><a class="navbar__item navbar__link" href="/docs/schema/contents">Schema</a><a class="navbar__item navbar__link" href="/docs/customers/overview">Customers</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://github.com/Intilery/intilery.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">⌘</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="intilery"><strong class="navbar__title">intilery</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/guides/contents">Guides</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/apis/api">APIs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tag/tag1">JavaScript Tag</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/sdk/ios">Mobile SDKs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/schema/contents">Schema</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/customers/overview">Customers</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/Intilery/intilery.github.io" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">iOS</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/sdk/ios">iOS Mobile SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sdk/ios-quickstart">iOS Quickstart tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sdk/ios14">iOS 14 Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sdk/ios-trouble">Troubleshooting iOS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sdk/ios-faq">iOS FAQs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sdk/ios-push">iOS Push Notifications</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Android</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sdk/android">Android Mobile SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sdk/android-quickstart">Android Quickstart tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sdk/android-trouble">Troubleshooting Android</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sdk/android-faq">Android FAQs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sdk/android-push">Android Push Notifications</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Intilery iOS Mobile SDK</h1></header><div class="markdown"><p>Intilery for iOS makes it simple to send your data to Intilery.</p><p>All of Intilery;s libraries are open-source, so you can <a href="https://github.com/Intilery/analytics-ios" target="_blank" rel="noopener noreferrer">view Intilery for iOS on GitHub</a></p><p>Want to stay updated on releases? Subscribe to the <a href="https://github.com/Intilery/analytics-ios/tags.atom" target="_blank" rel="noopener noreferrer">release feed</a>.</p><p><strong>Note:</strong> Intilery does not currently support tracking of watchkit extensions for the Apple Watch. <a href="email:support@intilery.com" target="_blank" rel="noopener noreferrer">Email us</a> if you’re interested in a Watchkit SDK. For now we recommend tracking watch interactions using the iPhone app code.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="intilery-ios-and-unique-identifiers"></a>Intilery-iOS and Unique Identifiers<a aria-hidden="true" tabindex="-1" class="hash-link" href="#intilery-ios-and-unique-identifiers" title="Direct link to heading">#</a></h2><p>One of the most important parts of any analytics platform is the ability to consistently and accurately identify users. To do this, the platform must assign and persist some form of identification on the device, so you can analyze user actions effectively.</p><p>Naturally the Intilery SDK needs a unique ID for each user. To protect end-users’ privacy, Apple places restrictions on how these IDs can be generated and used. This section explains Apple’s policies, and how Intilery generates IDs in compliance with these policies.</p><p>Before iOS 5 developers had access to <code>uniqueIdentifier</code>, which was a hardware-specific serial number that was consistent across different apps, vendors and installs. Starting with iOS 5, however, <a href="https://developer.apple.com/news/?id=3212013a" target="_blank" rel="noopener noreferrer">Apple deprecated access to this identifier</a>. In iOS 6 Apple introduced the <code>identifierForVendor</code> which protects end-users from cross-app identification. In iOS 7 Apple <a href="http://techcrunch.com/2013/06/14/ios-7-eliminates-mac-address-as-tracking-option-signaling-final-push-towards-apples-own-ad-identifier-technology/" target="_blank" rel="noopener noreferrer">restricted access to the device’s MAC address</a>, which many developers used as a workaround to get a similar device-specific serial number to replace <code>uniqueIdentifier</code>.</p><p>Intilery&#x27;s iOS library supports iOS 7+ by generating a UUID and storing it on disk. This complies with Apple’s required privacy policies, maintains compatibility, and also enables correct tracking in situations where multiple people use the same device, since the UUID can be regenerated.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="api-call-queueing-in-intilery-ios"></a>API call queueing in Intilery-iOS<a aria-hidden="true" tabindex="-1" class="hash-link" href="#api-call-queueing-in-intilery-ios" title="Direct link to heading">#</a></h2><p>The Intilery SDK queues API calls rather than making a network request for each event tracked, to help improve the user’s battery life.</p><p>Batches are sent either:</p><ul><li>when there are 20 or more events in the queue</li><li>on a scheduled timer, every 30 seconds</li><li>when the app goes to the background</li></ul><p>To limit memory and disk usage, Intilery only queues up to 1000 events. When the app is terminated, Intilery saves the queue to disk, and loads that data again at app launch so there is no data loss.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="getting-started"></a>Getting Started<a aria-hidden="true" tabindex="-1" class="hash-link" href="#getting-started" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="install-the-sdk"></a>Install the SDK<a aria-hidden="true" tabindex="-1" class="hash-link" href="#install-the-sdk" title="Direct link to heading">#</a></h3><p>The recommended way to install Intilery for iOS is using <a href="http://cocoapods.org/" target="_blank" rel="noopener noreferrer">Cocoapods</a>, since it means you can create a build with specific destinations, and because it makes it simple to install and upgrade.</p><p>First, add the <code>Analytics</code> dependency to your <code>Podfile</code>, like so:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">pod &#x27;IntileryAnalytics&#x27;, &#x27;~&gt; 1.0&#x27;</span></div></div></div></div></div><p>Then in your application delegate’s <code>- application:didFinishLaunchingWithOptions:</code> method, set up the SDK like so:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="swift"></a>Swift<a aria-hidden="true" tabindex="-1" class="hash-link" href="#swift" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-swift codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">let configuration = AnalyticsConfiguration(writeKey: &quot;YOUR_WRITE_KEY&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">configuration.trackApplicationLifecycleEvents = true // Enable this to record certain application events automatically!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">configuration.recordScreenViews = true // Enable this to record screen views automatically!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Analytics.setup(with: configuration)</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="objective-c"></a>Objective-C<a aria-hidden="true" tabindex="-1" class="hash-link" href="#objective-c" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-objectivec codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">SEGAnalyticsConfiguration </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">configuration </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalyticsConfiguration configurationWithWriteKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;YOUR_WRITE_KEY&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">configuration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">trackApplicationLifecycleEvents </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> YES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Enable this to record certain application events automatically!</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">configuration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">recordScreenViews </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> YES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Enable this to record screen views automatically!</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalytics setupWithConfiguration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">configuration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p><strong>Note:</strong> Automatically tracking lifecycle events (<code>Application Opened</code>, <code>Application Installed</code>, <code>Application Updated</code>) and screen views is optional using initialization config parameters, but highly recommended to hit the ground running with core events!</p><p>And of course, import the SDK in the files that you use it with:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="swift-1"></a>Swift<a aria-hidden="true" tabindex="-1" class="hash-link" href="#swift-1" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-swift codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">import Segment</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="objective-c-1"></a>Objective-C<a aria-hidden="true" tabindex="-1" class="hash-link" href="#objective-c-1" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-objectivec codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">import Segment</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="configure-and-set-up-the-sdk"></a>Configure and set up the SDK<a aria-hidden="true" tabindex="-1" class="hash-link" href="#configure-and-set-up-the-sdk" title="Direct link to heading">#</a></h3><p>The <code>SEGAnalyticsConfiguration</code> class provides a set of properties that control various policies of the <code>SEGAnalytics</code> instance. You initialize it with a <code>writeKey</code> as in the examples below:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="swift-2"></a>Swift<a aria-hidden="true" tabindex="-1" class="hash-link" href="#swift-2" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-swift codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Analytics.setup(with: AnalyticsConfiguration(writeKey: &quot;YOUR_WRITE_KEY&quot;))</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="objective-c-2"></a>Objective-C<a aria-hidden="true" tabindex="-1" class="hash-link" href="#objective-c-2" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-objectivec codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalytics setupWithConfiguration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalyticsConfiguration configurationWithWriteKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;YOUR_WRITE_KEY&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><table><thead><tr><th><code>writeKey</code> *NSString **</th><th>Your Intilery <strong>Write Key</strong>.</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="application-lifecycle-tracking"></a>Application Lifecycle Tracking<a aria-hidden="true" tabindex="-1" class="hash-link" href="#application-lifecycle-tracking" title="Direct link to heading">#</a></h3><p>The Intilery-iOS SDK can automatically instrument <a href="/docs/schema/mobile/">common application lifecycle events</a> such as “Application Installed”, “Application Updated” and “Application Opened”. Simply enable this option when you initialize the SDK.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="swift-3"></a>Swift<a aria-hidden="true" tabindex="-1" class="hash-link" href="#swift-3" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-swift codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">let configuration = AnalyticsConfiguration(writeKey: &quot;YOUR_WRITE_KEY&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">configuration.trackApplicationLifecycleEvents = true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Analytics.setup(with: configuration)</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="objective-c-3"></a>Objective-C<a aria-hidden="true" tabindex="-1" class="hash-link" href="#objective-c-3" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-objectivec codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">SEGAnalyticsConfiguration </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">configuration </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalyticsConfiguration configurationWithWriteKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;YOUR_WRITE_KEY&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">configuration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">trackApplicationLifecycleEvents </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> YES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalytics setupWithConfiguration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">configuration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="automatic-screen-tracking"></a>Automatic Screen Tracking<a aria-hidden="true" tabindex="-1" class="hash-link" href="#automatic-screen-tracking" title="Direct link to heading">#</a></h3><p>The Intilery-iOS SDK can automatically instrument screen calls. It uses method swizzling to detect when <code>ViewController</code>s are loaded, and uses the label of the view controller (or the class name if a label is not available) as the screen name. It removes the string “ViewController” from the name if one is present.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="swift-4"></a>Swift<a aria-hidden="true" tabindex="-1" class="hash-link" href="#swift-4" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-swift codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">let configuration = AnalyticsConfiguration(writeKey: &quot;YOUR_WRITE_KEY&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">configuration.recordScreenViews = true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Analytics.setup(with: configuration)</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="objective-c-4"></a>Objective-C<a aria-hidden="true" tabindex="-1" class="hash-link" href="#objective-c-4" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-objectivec codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">SEGAnalyticsConfiguration </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">configuration </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalyticsConfiguration configurationWithWriteKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;YOUR_WRITE_KEY&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">configuration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">recordScreenViews </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> YES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalytics setupWithConfiguration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">configuration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="automatic-push-notification-tracking"></a>Automatic Push Notification Tracking<a aria-hidden="true" tabindex="-1" class="hash-link" href="#automatic-push-notification-tracking" title="Direct link to heading">#</a></h3><p>When you set <code>trackPushNotifications</code> to <code>YES</code>, the SDK automatically sends a Track event for <code>Push Notification Received</code> and <code>Push Notification Tapped</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="switft"></a>Switft<a aria-hidden="true" tabindex="-1" class="hash-link" href="#switft" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-swift codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">let configuration = AnalyticsConfiguration(writeKey: &quot;YOUR_WRITE_KEY&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">configuration.trackPushNotifications = true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Analytics.setup(with: configuration)</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="objective-c-5"></a>Objective-C<a aria-hidden="true" tabindex="-1" class="hash-link" href="#objective-c-5" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-objectivec codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">EGAnalyticsConfiguration </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">configuration </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalyticsConfiguration configurationWithWriteKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;YOUR_WRITE_KEY&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">configuration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">trackPushNotifications </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> YES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalytics setupWithConfiguration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">configuration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="automatic-deep-link-tracking"></a>Automatic Deep Link Tracking<a aria-hidden="true" tabindex="-1" class="hash-link" href="#automatic-deep-link-tracking" title="Direct link to heading">#</a></h3><p>When you set <code>trackDeepLinks</code> to <code>YES</code>, the SDK automatically sends a Track event for <code>Deep Link Opened</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="swift-5"></a>Swift<a aria-hidden="true" tabindex="-1" class="hash-link" href="#swift-5" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-swift codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">let configuration = AnalyticsConfiguration(writeKey: &quot;YOUR_WRITE_KEY&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">configuration.trackDeepLinks = true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Analytics.setup(with: configuration)</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="objective-c-6"></a>Objective-C<a aria-hidden="true" tabindex="-1" class="hash-link" href="#objective-c-6" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-objectivec codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">SEGAnalyticsConfiguration </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">configuration </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalyticsConfiguration configurationWithWriteKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;YOUR_WRITE_KEY&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">configuration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">trackDeepLinks </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> YES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalytics setupWithConfiguration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">configuration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="flushing"></a>Flushing<a aria-hidden="true" tabindex="-1" class="hash-link" href="#flushing" title="Direct link to heading">#</a></h3><p>You can set the number of events that should queue before flushing. Setting this to <code>1</code> will send events as they come in (i.e. not send batched events) and will use more battery. <code>20</code> by default.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="swift-6"></a>Swift<a aria-hidden="true" tabindex="-1" class="hash-link" href="#swift-6" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-swift codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">let configuration = AnalyticsConfiguration(writeKey: &quot;YOUR_WRITE_KEY&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">configuration.flushAt = 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Analytics.setup(with: configuration)</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="objective-c-7"></a>Objective-C<a aria-hidden="true" tabindex="-1" class="hash-link" href="#objective-c-7" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-objectivec codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">SEGAnalyticsConfiguration </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">configuration </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalyticsConfiguration configurationWithWriteKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;YOUR_WRITE_KEY&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">configuration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">flushAt </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalytics setupWithConfiguration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">configuration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>You can also manually <code>flush</code> the queue:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="switft-1"></a>Switft<a aria-hidden="true" tabindex="-1" class="hash-link" href="#switft-1" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-swift codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Analytics.shared().alias(&quot;glenncoco&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Analytics.shared().flush()</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="objective-c-8"></a>Objective-C<a aria-hidden="true" tabindex="-1" class="hash-link" href="#objective-c-8" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-objectivec codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalytics sharedAnalytics</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> alias</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;glenncoco&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalytics sharedAnalytics</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> flush</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="data-collection"></a>Data Collection<a aria-hidden="true" tabindex="-1" class="hash-link" href="#data-collection" title="Direct link to heading">#</a></h2><p>Now that the Intilery SDK and is installed, you’re ready to collect some data!</p><p><strong>Good to know</strong>: For any of the methods described in this doc, you can replace the properties and traits in the code samples with variables that represent the data collected.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="identify"></a>Identify<a aria-hidden="true" tabindex="-1" class="hash-link" href="#identify" title="Direct link to heading">#</a></h3><p>Intilery&#x27;s Identify method lets you tie a user to their actions and record traits about them. It includes a unique User ID and any optional traits you know about them.</p><p>Intilery recommends that you call Identify once when you first create the user’s account, and only call it again later when they update their traits or you change them.</p><p><strong>Note:</strong> Intilery automatically assigns an <code>anonymousId</code> to users before you identify them. The <code>userId</code> is what connects anonymous activities across devices (for example, iPhone and iPad).</p><p>Example <code>identify</code> call:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="swift-7"></a>Swift<a aria-hidden="true" tabindex="-1" class="hash-link" href="#swift-7" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-swift codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Analytics.shared().identify(&quot;a user&#x27;s id&quot;, traits: [&quot;email&quot;: &quot;a user&#x27;s email address&quot;])</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="objective-c-9"></a>Objective-C<a aria-hidden="true" tabindex="-1" class="hash-link" href="#objective-c-9" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-objectivec codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalytics sharedAnalytics</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> identify</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;a user&#x27;s id&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                traits</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token operator" style="color:rgb(137, 221, 255)">@</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;email&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;a user&#x27;s email address&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><table><thead><tr><th><code>userId</code> <em>NSString *, optional</em></th><th>The database ID for this user. If you don’t know who the user is yet, you can omit the <code>userId</code> and just record <code>traits</code>. You can read more in the <a href="/docs/schema/identify">identify reference</a>.</th></tr></thead><tbody><tr><td><code>traits</code> <em>NSDictionary *, optional</em></td><td>A dictionary of traits you know about the user, like their <code>email</code> or <code>name</code>. You can read more about traits in the <a href="/docs/schema/identify">identify reference</a>.</td></tr></tbody></table><p>Intilery for iOS works on its own background thread, so it will never block the main thread for the UI or the calling thread.</p><p>Calling <code>- identify:</code> with a <code>userId</code> will write that ID to disk to be used in subsequent calls. That ID can be removed either by uninstalling the app or by calling <a href="#reset"><code>reset</code></a>.</p><p>Find details on the identify method payload in the <a href="/docs/schema/identify/">Identify Schema documentation</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="track"></a>Track<a aria-hidden="true" tabindex="-1" class="hash-link" href="#track" title="Direct link to heading">#</a></h3><p>Intilery&#x27;s Track method lets you record the actions your users perform. Every action triggers what we call an “event”, which can also have associated properties.</p><p>To get started, the Intilery iOS SDK can automatically track a few key common events with the <a href="/docs/schema/mobile/">Intilery Native Mobile Schema</a>, such as the <code>Application Installed</code>, <code>Application Updated</code> and <code>Application Opened</code>. Enable this option during initialization.</p><p>You might also want to track events that are indicators of success for your mobile app, like <strong>Signed Up</strong>, <strong>Item Purchased</strong> or <strong>Article Bookmarked</strong>. Intilery recommends tracking just a few important events to start out. You can always add more later! An example Track call might look like this:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="swift-8"></a>Swift<a aria-hidden="true" tabindex="-1" class="hash-link" href="#swift-8" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-swift codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Analytics.shared().track(&quot;Item Purchased&quot;, properties: [&quot;item&quot;: &quot;Sword of Heracles&quot;, &quot;revenue&quot;: 2.95])</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="objective-c-10"></a>Objective-C<a aria-hidden="true" tabindex="-1" class="hash-link" href="#objective-c-10" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-objectivec codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalytics sharedAnalytics</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> track</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;Item Purchased&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            properties</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token operator" style="color:rgb(137, 221, 255)">@</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;item&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;Sword of Heracles&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;revenue&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">@</span><span class="token number" style="color:rgb(247, 140, 108)">2.95</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>This example Track call above tells you that your user just triggered the <strong>Item Purchased</strong> event, and records the <code>item</code> name of “Sword of Heracles” and <code>revenue</code> of 2.95.</p><p>Track event properties can be anything you want to record. In this case, item and revenue.</p><p>The Track call has the following fields:</p><table><thead><tr><th><code>event</code> *NSString **</th><th>The name of the event. We recommend human-readable names like <strong>Song Played</strong> or <strong>Status Updated</strong>.</th></tr></thead><tbody><tr><td><code>properties</code> <em>NSDictionary *, optional</em></td><td>A dictionary of properties for the event. If the event was <code>Product Added</code> to cart, it might have properties like <code>price</code> and <code>productType</code>.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="screen"></a>Screen<a aria-hidden="true" tabindex="-1" class="hash-link" href="#screen" title="Direct link to heading">#</a></h3><p>The <a href="/docs/schema/screen/">Screen</a> method lets you you record whenever a user sees a screen of your mobile app, along with optional extra information about the page being viewed.</p><p>You’ll want to record a screen event an event whenever the user opens a screen in your app. This could be a view, fragment, dialog or activity depending on your app.</p><p>Example Screen call:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="swift-9"></a>Swift<a aria-hidden="true" tabindex="-1" class="hash-link" href="#swift-9" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-swift codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Analytics.shared().screen(&quot;Photo Feed&quot;, properties: [&quot;Feed Type&quot;: &quot;private&quot;])</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="objective-c-11"></a>Objective-C<a aria-hidden="true" tabindex="-1" class="hash-link" href="#objective-c-11" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-objectivec codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalytics sharedAnalytics</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> screen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;Photo Feed&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            properties</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token operator" style="color:rgb(137, 221, 255)">@</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;Feed Type&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;private&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>The <code>screen</code> call has the following fields:</p><table><thead><tr><th>The name of the screen, for example <strong>Signup</strong> or <strong>Home</strong>.</th></tr></thead><tbody><tr><td>A dictionary of properties for the screen. A screen <strong>Photo Feed</strong> might have properties like <code>Feed Type</code> or <code>Sort Order</code>.</td></tr></tbody></table><p>Find details on the Screen payload in the <a href="/docs/schema/screen/">Screen Schema documentation</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="anonymousid"></a>AnonymousId<a aria-hidden="true" tabindex="-1" class="hash-link" href="#anonymousid" title="Direct link to heading">#</a></h3><p>You can retrieve the <code>anonymousId</code> set by the library by using:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="swift-10"></a>Swift<a aria-hidden="true" tabindex="-1" class="hash-link" href="#swift-10" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-swift codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Analytics.shared().getAnonymousId</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="objective-c-12"></a>Objective-C<a aria-hidden="true" tabindex="-1" class="hash-link" href="#objective-c-12" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-objectivec codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalytics sharedAnalytics</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> getAnonymousId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="reset"></a>Reset<a aria-hidden="true" tabindex="-1" class="hash-link" href="#reset" title="Direct link to heading">#</a></h3><p>The <code>- reset</code> method clears the SDK’s internal stores for the current <code>user</code>. This is useful for apps where users can log in and out with different identities over time.</p><p>The example code below clears all information about the user.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="swift-11"></a>Swift<a aria-hidden="true" tabindex="-1" class="hash-link" href="#swift-11" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-swift codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Analytics.shared().reset()</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="objective-c-13"></a>Objective-C<a aria-hidden="true" tabindex="-1" class="hash-link" href="#objective-c-13" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-objectivec codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalytics sharedAnalytics</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> reset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p><strong>Reset does not clear events in the queue</strong>, and any remaining events in the queue are sent the next time the app starts. You might want to call <a href="#flushing">Flush</a> before you call Reset.</p><p><strong>Note</strong>: Each time you call <code>reset</code>, a new AnonymousId is generated, therefore only recommended when a user logs out or similair</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="disabling-data-collection-for-users-who-opt-out"></a>Disabling Data Collection for Users who opt out<a aria-hidden="true" tabindex="-1" class="hash-link" href="#disabling-data-collection-for-users-who-opt-out" title="Direct link to heading">#</a></h3><p>Depending on the audience for your app (for example, children) or the countries where you sell your app (for example, the EU), you might need to offer the ability for users to opt-out of analytics data collection from inside your app. You can turn off forwarding to ALL destinations including Intilery itself using the following code:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="swift-12"></a>Swift<a aria-hidden="true" tabindex="-1" class="hash-link" href="#swift-12" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-swift codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[[SEGAnalytics sharedAnalytics] disable];</span></div></div></div></div></div><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-objectivec codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Analytics</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">shared</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">disable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div></div></div><p>Or if the user opts back in, you can re-enable data collection:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="swift-13"></a>Swift<a aria-hidden="true" tabindex="-1" class="hash-link" href="#swift-13" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-swift codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Analytics.shared().enable()</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="objective-c-14"></a>Objective-C<a aria-hidden="true" tabindex="-1" class="hash-link" href="#objective-c-14" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-objectivec codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalytics sharedAnalytics</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> enable</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>If you disable the Intilery SDK in response to user opt-out, all Intilery method invocations (Track, Screen, Identify, etc) are ignored. </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="logging"></a>Logging<a aria-hidden="true" tabindex="-1" class="hash-link" href="#logging" title="Direct link to heading">#</a></h2><p>To see a trace of your data going through the SDK, you can enable debug logging with <code>- debug:</code>:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="swift-14"></a>Swift<a aria-hidden="true" tabindex="-1" class="hash-link" href="#swift-14" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-swift codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Analytics.debug(true)</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="objective-c-15"></a>Objective-C<a aria-hidden="true" tabindex="-1" class="hash-link" href="#objective-c-15" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-objectivec codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalytics debug</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">YES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>Or disable it like this:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="swift-15"></a>Swift<a aria-hidden="true" tabindex="-1" class="hash-link" href="#swift-15" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-swift codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Analytics.debug(false)</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="objective-c-16"></a>Objective-C<a aria-hidden="true" tabindex="-1" class="hash-link" href="#objective-c-16" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-objectivec codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalytics debug</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">NO</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>By default debug logging is disabled.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ad-tracking-and-idfa"></a>Ad Tracking and IDFA<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ad-tracking-and-idfa" title="Direct link to heading">#</a></h2><p>Starting iOS 14, applications must prompt users if that app needs to collect their Identifier for Advertisers (IDFA). Going forward with analytics-ios-4.1 and later, Intilery doesn’t auto-collect IDFA. If your app or any integrations require the use of IDFA, you need to:</p><ol><li>import the <a href="https://developer.apple.com/documentation/adsupport" target="_blank" rel="noopener noreferrer">AdSupport</a> and <a href="https://developer.apple.com/documentation/apptrackingtransparency" target="_blank" rel="noopener noreferrer">App Tracking Transparency</a> Frameworks by Apple</li><li>pass the below code snippet to Intilery config and start tracking events</li><li>prompt the user for consent and collect the IDFA</li></ol><p>You can use the following closure snippet to pass the value to <code>intilery-ios</code> as configurations:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="swift-16"></a>Swift<a aria-hidden="true" tabindex="-1" class="hash-link" href="#swift-16" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-swift codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">import AdSupport</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let configuration = AnalyticsConfiguration(writeKey: &quot;YOUR_WRITE_KEY&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// Enable advertising collection</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">configuration.enableAdvertisingTracking = true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// Set the block to be called when the advertisingID is needed</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// NOTE: In iOS 14, you&#x27;ll need to manually do authorization elsewhere and only when it has been authorized, return the advertisingIdentifier to intilery via the block below</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">configuration.adSupportBlock = { () -&gt; String in</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return ASIdentifierManager.shared().advertisingIdentifier</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Analytics.setup(with: configuration)</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="objective-c-17"></a>Objective-C<a aria-hidden="true" tabindex="-1" class="hash-link" href="#objective-c-17" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-objectivec codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">@</span><span class="token plain">import AdSupport</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">SEGAnalyticsConfiguration</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> configuration </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalyticsConfiguration configurationWithWriteKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;YOUR_WRITE_KEY&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Enable advertising collection</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">configuration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">enableAdvertisingTracking </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> YES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Set the block to be called when the advertisingID is needed</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// NOTE: In iOS 14, you&#x27;ll need to manually do authorization elsewhere and only when it has been authorized, return the advertisingIdentifier to intilery via the block below</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">configuration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">adSupportBlock </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">ASIdentifierManager sharedManager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> advertisingIdentifier</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SEGAnalytics setupWithConfiguration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">configuration</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>The same value for IDFA will used across all (device and cloud-mode) integrations.</p><p><strong>Note:</strong> intilery-ios can continue to collect events without the IDFA until user is prompted and only upon user consent the <code>advertisingId</code> field is added to the event payload</p><p>Ad-tracking affects two keys under the <code>context</code> object of every event:</p><table><thead><tr><th><code>device.adTrackingEnabled</code></th><th><code>true</code> if SDK is setup with closure and user has consented, <code>false</code> otherwise</th></tr></thead><tbody><tr><td><code>device.advertisingId</code></td><td><code>idfa_value</code> if user opts-in otherwise this key is skipped from event payload</td></tr></tbody></table><p>If your use cases don’t require the need for IDFA collection you can skip this setup and under your event context you will see not see the <code>device.adTrackingEnabled</code> and <code>device.advertisingId</code> key/value in your event payload.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="cocoapods"></a>CocoaPods<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cocoapods" title="Direct link to heading">#</a></h3><p>Add this line in your <code>Podfile</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">pod </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;IntileryAnalytics&#x27;</span><span class="token plain">, :git </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;https://github.com/Intilery/intilery-analytics-ios&#x27;</span><span class="token plain">, :branch </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;master&#x27;</span></div></div></div></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/sdk/ios-quickstart"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Quickstart iOS »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#intilery-ios-and-unique-identifiers" class="table-of-contents__link">Intilery-iOS and Unique Identifiers</a></li><li><a href="#api-call-queueing-in-intilery-ios" class="table-of-contents__link">API call queueing in Intilery-iOS</a></li><li><a href="#getting-started" class="table-of-contents__link">Getting Started</a><ul><li><a href="#install-the-sdk" class="table-of-contents__link">Install the SDK</a></li><li><a href="#configure-and-set-up-the-sdk" class="table-of-contents__link">Configure and set up the SDK</a></li><li><a href="#application-lifecycle-tracking" class="table-of-contents__link">Application Lifecycle Tracking</a></li><li><a href="#automatic-screen-tracking" class="table-of-contents__link">Automatic Screen Tracking</a></li><li><a href="#automatic-push-notification-tracking" class="table-of-contents__link">Automatic Push Notification Tracking</a></li><li><a href="#automatic-deep-link-tracking" class="table-of-contents__link">Automatic Deep Link Tracking</a></li><li><a href="#flushing" class="table-of-contents__link">Flushing</a></li></ul></li><li><a href="#data-collection" class="table-of-contents__link">Data Collection</a><ul><li><a href="#identify" class="table-of-contents__link">Identify</a></li><li><a href="#track" class="table-of-contents__link">Track</a></li><li><a href="#screen" class="table-of-contents__link">Screen</a></li><li><a href="#anonymousid" class="table-of-contents__link">AnonymousId</a></li><li><a href="#reset" class="table-of-contents__link">Reset</a></li><li><a href="#disabling-data-collection-for-users-who-opt-out" class="table-of-contents__link">Disabling Data Collection for Users who opt out</a></li></ul></li><li><a href="#logging" class="table-of-contents__link">Logging</a></li><li><a href="#ad-tracking-and-idfa" class="table-of-contents__link">Ad Tracking and IDFA</a><ul><li><a href="#cocoapods" class="table-of-contents__link">CocoaPods</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a href="http://support.intilery.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">User Guides</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/apis/api">API</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tag/tag1">JavaScript Tag</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sdk/ios">Mobile SDKs</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/schema/contents">Schema</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/intilery" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.linkedin.com/company/intilery-com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn</a></li><li class="footer__item"><a href="https://www.facebook.com/intilery/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://www.instagram.com/intilery/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.intilery.com/category/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Marketing Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/Intilery/intilery.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright © 2021 Intilery.com Ltd.</div></div></div></footer></div>
<script src="/styles.5b3c67ed.js"></script>
<script src="/runtime~main.e13e7d6c.js"></script>
<script src="/main.0ff104ff.js"></script>
<script src="/1.89690f33.js"></script>
<script src="/2.faacdfbe.js"></script>
<script src="/3.4c8f3079.js"></script>
<script src="/1be78505.4851ef38.js"></script>
<script src="/71.0bf440b5.js"></script>
<script src="/20ac7829.86709812.js"></script>
<script src="/17896441.22484c41.js"></script>
<script src="/646ca884.d78074a3.js"></script>
</body>
</html>